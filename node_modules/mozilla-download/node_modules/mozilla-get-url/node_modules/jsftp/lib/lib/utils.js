if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['/Users/sergi/programming/jsftp/lib/utils.js']) {
   __coverage__['/Users/sergi/programming/jsftp/lib/utils.js'] = {"path":"/Users/sergi/programming/jsftp/lib/utils.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":25}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":32}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":57}}},"4":{"name":"_next","line":27,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":23}}},"5":{"name":"(anonymous_5)","line":74,"loc":{"start":{"line":74,"column":15},"end":{"line":74,"column":30}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":12},"end":{"line":91,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"6":{"start":{"line":8,"column":0},"end":{"line":103,"column":0}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":30}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":36}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":23}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":14}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":20}},"12":{"start":{"line":25,"column":4},"end":{"line":25,"column":48}},"13":{"start":{"line":26,"column":4},"end":{"line":69,"column":7}},"14":{"start":{"line":27,"column":6},"end":{"line":30,"column":7}},"15":{"start":{"line":28,"column":8},"end":{"line":28,"column":15}},"16":{"start":{"line":29,"column":8},"end":{"line":29,"column":15}},"17":{"start":{"line":34,"column":6},"end":{"line":35,"column":32}},"18":{"start":{"line":35,"column":8},"end":{"line":35,"column":32}},"19":{"start":{"line":37,"column":6},"end":{"line":37,"column":27}},"20":{"start":{"line":42,"column":6},"end":{"line":45,"column":7}},"21":{"start":{"line":44,"column":8},"end":{"line":44,"column":23}},"22":{"start":{"line":47,"column":6},"end":{"line":47,"column":45}},"23":{"start":{"line":48,"column":6},"end":{"line":67,"column":7}},"24":{"start":{"line":49,"column":8},"end":{"line":55,"column":9}},"25":{"start":{"line":50,"column":10},"end":{"line":50,"column":61}},"26":{"start":{"line":51,"column":10},"end":{"line":54,"column":11}},"27":{"start":{"line":52,"column":12},"end":{"line":52,"column":62}},"28":{"start":{"line":53,"column":12},"end":{"line":53,"column":27}},"29":{"start":{"line":57,"column":8},"end":{"line":62,"column":9}},"30":{"start":{"line":58,"column":10},"end":{"line":58,"column":61}},"31":{"start":{"line":59,"column":10},"end":{"line":61,"column":11}},"32":{"start":{"line":60,"column":12},"end":{"line":60,"column":42}},"33":{"start":{"line":65,"column":8},"end":{"line":67,"column":6}},"34":{"start":{"line":66,"column":10},"end":{"line":67,"column":6}},"35":{"start":{"line":68,"column":6},"end":{"line":68,"column":14}},"36":{"start":{"line":71,"column":4},"end":{"line":71,"column":18}},"37":{"start":{"line":75,"column":4},"end":{"line":75,"column":68}},"38":{"start":{"line":76,"column":4},"end":{"line":76,"column":35}},"39":{"start":{"line":77,"column":4},"end":{"line":77,"column":29}},"40":{"start":{"line":77,"column":16},"end":{"line":77,"column":29}},"41":{"start":{"line":80,"column":4},"end":{"line":81,"column":77}},"42":{"start":{"line":92,"column":4},"end":{"line":92,"column":24}},"43":{"start":{"line":92,"column":14},"end":{"line":92,"column":24}},"44":{"start":{"line":94,"column":4},"end":{"line":94,"column":31}},"45":{"start":{"line":95,"column":4},"end":{"line":96,"column":51}},"46":{"start":{"line":96,"column":6},"end":{"line":96,"column":51}},"47":{"start":{"line":98,"column":4},"end":{"line":98,"column":15}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":11},"end":{"line":12,"column":21}},{"start":{"line":12,"column":25},"end":{"line":12,"column":35}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":6}},{"start":{"line":34,"column":6},"end":{"line":34,"column":6}}]},"3":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":6},"end":{"line":42,"column":6}},{"start":{"line":42,"column":6},"end":{"line":42,"column":6}}]},"4":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":10},"end":{"line":42,"column":40}},{"start":{"line":43,"column":8},"end":{"line":43,"column":26}},{"start":{"line":43,"column":30},"end":{"line":43,"column":50}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":6}},{"start":{"line":48,"column":6},"end":{"line":48,"column":6}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"7":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":10},"end":{"line":51,"column":10}},{"start":{"line":51,"column":10},"end":{"line":51,"column":10}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"9":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":31}},{"start":{"line":57,"column":35},"end":{"line":57,"column":52}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":10},"end":{"line":59,"column":10}},{"start":{"line":59,"column":10},"end":{"line":59,"column":10}}]},"11":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":8},"end":{"line":65,"column":8}},{"start":{"line":65,"column":8},"end":{"line":65,"column":8}}]},"12":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"13":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"14":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]}}};
}
var __cov_YktIlyn0AIPXiguqHg3XXw = __coverage__['/Users/sergi/programming/jsftp/lib/utils.js'];
__cov_YktIlyn0AIPXiguqHg3XXw.s['1']++;var Parser=require('parse-listing');__cov_YktIlyn0AIPXiguqHg3XXw.s['2']++;var async=require('async');__cov_YktIlyn0AIPXiguqHg3XXw.s['3']++;var RE_RES=/^(\d\d\d)\s(.*)/;__cov_YktIlyn0AIPXiguqHg3XXw.s['4']++;var RE_MULTI=/^(\d\d\d)-/;__cov_YktIlyn0AIPXiguqHg3XXw.s['5']++;var RE_SERVER_RESPONSE=/^(\d\d\d)(.*)/;__cov_YktIlyn0AIPXiguqHg3XXw.s['6']++;var Utils=module.exports={isMark:function(code){__cov_YktIlyn0AIPXiguqHg3XXw.f['1']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['7']++;code=parseInt(code,10);__cov_YktIlyn0AIPXiguqHg3XXw.s['8']++;return(__cov_YktIlyn0AIPXiguqHg3XXw.b['1'][0]++,code>100)&&(__cov_YktIlyn0AIPXiguqHg3XXw.b['1'][1]++,code<200);},parseEntry:function(listing){__cov_YktIlyn0AIPXiguqHg3XXw.f['2']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['9']++;var t,parsedEntry;__cov_YktIlyn0AIPXiguqHg3XXw.s['10']++;var i=0;__cov_YktIlyn0AIPXiguqHg3XXw.s['11']++;var parsed=[];__cov_YktIlyn0AIPXiguqHg3XXw.s['12']++;var splitEntries=listing.split(/\r\n|\n/);__cov_YktIlyn0AIPXiguqHg3XXw.s['13']++;async.eachSeries(splitEntries,function(entry,next){__cov_YktIlyn0AIPXiguqHg3XXw.f['3']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['14']++;function _next(){__cov_YktIlyn0AIPXiguqHg3XXw.f['4']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['15']++;i+=1;__cov_YktIlyn0AIPXiguqHg3XXw.s['16']++;next();}__cov_YktIlyn0AIPXiguqHg3XXw.s['17']++;if(RE_MULTI.test(entry)){__cov_YktIlyn0AIPXiguqHg3XXw.b['2'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['18']++;entry=entry.substr(3);}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['2'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['19']++;entry=entry.trim();__cov_YktIlyn0AIPXiguqHg3XXw.s['20']++;if((__cov_YktIlyn0AIPXiguqHg3XXw.b['4'][0]++,RE_SERVER_RESPONSE.test(entry))||(__cov_YktIlyn0AIPXiguqHg3XXw.b['4'][1]++,RE_RES.test(entry))||(__cov_YktIlyn0AIPXiguqHg3XXw.b['4'][2]++,RE_MULTI.test(entry))){__cov_YktIlyn0AIPXiguqHg3XXw.b['3'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['21']++;return _next();}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['3'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['22']++;parsedEntry=Parser.parseEntry(entry);__cov_YktIlyn0AIPXiguqHg3XXw.s['23']++;if(parsedEntry===null){__cov_YktIlyn0AIPXiguqHg3XXw.b['5'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['24']++;if(splitEntries[i+1]){__cov_YktIlyn0AIPXiguqHg3XXw.b['6'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['25']++;t=Parser.parseEntry(entry+splitEntries[i+1]);__cov_YktIlyn0AIPXiguqHg3XXw.s['26']++;if(t!==null){__cov_YktIlyn0AIPXiguqHg3XXw.b['7'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['27']++;splitEntries[i+1]=entry+splitEntries[i+1];__cov_YktIlyn0AIPXiguqHg3XXw.s['28']++;return _next();}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['7'][1]++;}}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['6'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['29']++;if((__cov_YktIlyn0AIPXiguqHg3XXw.b['9'][0]++,splitEntries[i-1])&&(__cov_YktIlyn0AIPXiguqHg3XXw.b['9'][1]++,parsed.length>0)){__cov_YktIlyn0AIPXiguqHg3XXw.b['8'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['30']++;t=Parser.parseEntry(splitEntries[i-1]+entry);__cov_YktIlyn0AIPXiguqHg3XXw.s['31']++;if(t!==null){__cov_YktIlyn0AIPXiguqHg3XXw.b['10'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['32']++;parsed[parsed.length-1]=t;}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['10'][1]++;}}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['8'][1]++;}}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['5'][1]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['33']++;if(parsedEntry){__cov_YktIlyn0AIPXiguqHg3XXw.b['11'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['34']++;parsed.push(parsedEntry);}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['11'][1]++;}}__cov_YktIlyn0AIPXiguqHg3XXw.s['35']++;_next();});__cov_YktIlyn0AIPXiguqHg3XXw.s['36']++;return parsed;},getPasvPort:function(text){__cov_YktIlyn0AIPXiguqHg3XXw.f['5']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['37']++;var RE_PASV=/([-\d]+,[-\d]+,[-\d]+,[-\d]+),([-\d]+),([-\d]+)/;__cov_YktIlyn0AIPXiguqHg3XXw.s['38']++;var match=RE_PASV.exec(text);__cov_YktIlyn0AIPXiguqHg3XXw.s['39']++;if(!match){__cov_YktIlyn0AIPXiguqHg3XXw.b['12'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['40']++;return false;}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['12'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['41']++;return[match[1].replace(/,/g,'.'),(parseInt(match[2],10)&255)*256+(parseInt(match[3],10)&255)];},sanitize:function(cmd){__cov_YktIlyn0AIPXiguqHg3XXw.f['6']++;__cov_YktIlyn0AIPXiguqHg3XXw.s['42']++;if(!cmd){__cov_YktIlyn0AIPXiguqHg3XXw.b['13'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['43']++;return'';}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['13'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['44']++;var _cmd=cmd.slice(0,5);__cov_YktIlyn0AIPXiguqHg3XXw.s['45']++;if(_cmd==='pass '){__cov_YktIlyn0AIPXiguqHg3XXw.b['14'][0]++;__cov_YktIlyn0AIPXiguqHg3XXw.s['46']++;cmd=_cmd+Array(cmd.length-5).join('*');}else{__cov_YktIlyn0AIPXiguqHg3XXw.b['14'][1]++;}__cov_YktIlyn0AIPXiguqHg3XXw.s['47']++;return cmd;}};
