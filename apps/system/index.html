<!DOCTYPE html>
<html manifest="manifest.appcache">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <!-- System -->
    <script>
      if (document.location.protocol === 'file:') {
        var paths = document.location.pathname.split('/');
        paths.pop();
        paths.pop();
        paths.pop();
        var src = 'file://' + paths.join('/') + '/webapi.js';
      } else {
        var host = document.location.host;
        var domain = host.replace(/(^[\w\d]+\.)?([\w\d]+\.[a-z]+)/, '$2');
        var src = 'http://' + domain + '/webapi.js';
      }
      document.write('<script src="' + src + '"><\/script>');
    </script>
    <link rel="stylesheet" type="text/css" href="style/system.css">
    <script defer src="js/settings_listener.js"></script>
    <script defer src="js/applications.js"></script>
    <script defer src="js/screen_manager.js"></script>
    <script defer src="js/background_service.js"></script>
    <script defer src="js/bootstrap.js"></script>
    <script defer src="js/screenshot.js"></script>
    <script defer src="js/sound_manager.js"></script>
    <script defer src="js/source_view.js"></script>
    <script defer src="js/storage.js"></script>
    <script defer src="js/gridview.js"></script>

    <!-- Accessibility -->
    <link rel="stylesheet" type="text/css" href="style/accessibility/accessibility.css">
    <script defer src="js/accessibility.js"></script>

    <!-- Sleep Menu -->
    <link rel="stylesheet" type="text/css" href="style/sleep_menu/sleep_menu.css">
    <script defer src="js/sleep_menu.js"></script>

    <!-- PIN Unlocking -->
    <link rel="stylesheet" type="text/css" href="style/pinlock/pinlock.css">
    <script defer src="js/pinlock/pinlock.js"></script>

    <!-- LockScreen -->
    <link rel="stylesheet" type="text/css" href="style/lockscreen/lockscreen.css">
    <script defer src="js/lockscreen.js"></script>

    <!-- Statusbar -->
    <link rel="stylesheet" type="text/css" href="style/statusbar/statusbar.css">
    <script defer src="js/statusbar.js"></script>

    <!-- Notifications -->
    <link rel="stylesheet" type="text/css" href="style/notifications/notifications.css">
    <script defer src="js/notifications/notifications.js"></script>

    <!-- Permission Manager -->
    <link rel="stylesheet" type="text/css" href="style/permission_manager/permission_manager.css">
    <script defer src="js/permission_manager.js"></script>

    <!-- Task Manager -->
    <link rel="stylesheet" type="text/css" href="style/task_manager/task_manager.css">
    <script defer src="js/windows/task_manager.js"></script>

    <!-- Windows -->
    <script defer src="js/windows/window_manager.js"></script>

    <!-- Keyboard -->
    <script defer src="js/keyboard_manager.js"></script>

    <!-- Theme and localization -->
    <link rel="stylesheet" type="text/css" href="style/themes/default/system.css">
    <link rel="resource" type="application/l10n" href="locale/system.properties">
  </head>

  <body onload="startup()">
    <div id="screen">

      <!-- keyboard -->
      <iframe id="keyboardFrame" class="hide"></iframe>

      <!-- homescreen -->
      <iframe id="homescreen" mozbrowser mozapp></iframe>
      <!-- <iframe id="homescreen" mozbrowser mozapp remote="true"></iframe>
      Crashing on load
        https://bugzilla.mozilla.org/show_bug.cgi?id=761933
      -->

      <div id="windows">
        <!-- application windows are added here -->
      </div>

      <div id="notifications-screen">
        <div id="notifications-container">
        </div>
        <div id="grippy">
        </div>
      </div>

      <div id="statusbar">
        <div id="statusbar-signal">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div id="statusbar-conn"></div>
        <div id="statusbar-data"></div>
        <div id="statusbar-wifi" hidden></div>
        <div id="statusbar-padding"></div>
        <div id="statusbar-notification" hidden></div>
        <div id="statusbar-mute" hidden></div>
        <div id="statusbar-battery">
          <div id="statusbar-battery-fuel"></div>
          <div id="statusbar-battery-charging" hidden></div>
        </div>
        <div id="statusbar-time"></div>
      </div>


      <div id="lockscreen" class="uninit screenoff">
        <div id="lockscreen-container">
          <div class="lockscreen-panel">
            <div id="lockscreen-header">
              <div id="lockscreen-mute" hidden></div>
              <div id="lockscreen-cal">
                <span id="lockscreen-cal-day"></span>
                <span id="lockscreen-cal-date"></span>
              </div>
              <div id="lockscreen-clock"></div>
            </div>
            <div id="lockscreen-notification" hidden>
              <div id="lockscreen-notification-time"></div>
              <img id="lockscreen-notification-icon" />
              <div id="lockscreen-notification-title"></div>
              <div id="lockscreen-notification-detail"></div>
            </div>
            <div id="lockscreen-area-start" class="lockscreen-handle"></div>
            <div id="lockscreen-area-unlock" class="lockscreen-handle"></div>
            <div id="lockscreen-area-camera" class="lockscreen-handle"></div>
          </div>
          <div id="lockscreen-panel-passcode" class="lockscreen-panel">
            <p id="lockscreen-passcode-code"><span></span><span></span><span></span><span></span></p>
            <div id="lockscreen-passcode-pad">
              <a href="#" data-key="1">1</a>
              <a href="#" data-key="2">2</a>
              <a href="#" data-key="3">3</a>
              <a href="#" data-key="4">4</a>
              <a href="#" data-key="5">5</a>
              <a href="#" data-key="6">6</a>
              <a href="#" data-key="7">7</a>
              <a href="#" data-key="8">8</a>
              <a href="#" data-key="9">9</a>
              <a href="#" data-key="e" class="lockscreen-passcode-pad-func">Emergency</a>
              <a href="#" data-key="0">0</a>
              <a href="#" data-key="b" class="lockscreen-passcode-pad-func">Back</a>
            </div>
          </div>
          <div id="lockscreen-panel-emergency-call" class="lockscreen-panel tbd">
            <h1>Emergency call panel</h1>
            <p>To be done.</p>
            <p>Turn off screen to go back.</p>
          </div>
          <div id="lockscreen-panel-camera" class="lockscreen-panel">
            <iframe id="lockscreen-camera" src="blank.html"></iframe>
          </div>
        </div>
      </div>

      <div id="pinkeypadscreen">
        <div id="pinkeypadscreen-container">
          <p id="pinkeypadscreen-desc"><span>Enter PIN</span></p>
          <p id="pinkeypadscreen-code">
            <span id="pinkeypadscreen-display"></span>
          </p>
          <div id="pinkeypadscreen-pad">
            <a href="#" data-key="1">1</a>
            <a href="#" data-key="2">2</a>
            <a href="#" data-key="3">3</a>
            <a href="#" data-key="4">4</a>
            <a href="#" data-key="5">5</a>
            <a href="#" data-key="6">6</a>
            <a href="#" data-key="7">7</a>
            <a href="#" data-key="8">8</a>
            <a href="#" data-key="9">9</a>
            <a href="#" data-key="o" class="pinkeypadscreen-pad-func">Ok</a>
            <a href="#" data-key="0">0</a>
            <a href="#" data-key="b" class="pinkeypadscreen-pad-func">Back</a>
            <a href="#" data-key="e" class="pinkeypadscreen-pad-func-full">Emergency</a>
          </div>
        </div>
      </div>

    </div>

    <div id="taskManager">
      <ul>

      </ul>
    </div>

    <div id="sleep">
      <div class="sleep-menu">
        <div data-l10n-id="airplane" data-value="airplane">Airplane Mode</div>
        <div data-l10n-id="silent" data-value="silent" id="silent">Silent Mode</div>
        <div data-l10n-id="normal" data-value="normal" id="normal" hidden>Normal Mode</div>
        <div data-l10n-id="restart" data-value="restart">Restart</div>
        <div data-l10n-id="power" data-value="power">Power Off</div>
      </div>
    </div>

    <div id="volume" class="vibration">
      <div class="active"></div>
      <div class="active"></div>
      <div class="active"></div>
      <div class="active"></div>
      <div class="active"></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>

  </body>
</html>
