<!DOCTYPE html>

<html manifest="manifest.appcache">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link href="style/css/package.css" rel="stylesheet">
    <link href="style/contacts.css" rel="stylesheet">
    <link rel="resource" type="application/l10n" href="locale/contacts.properties"/>

    <script class="events" type="text/xml">
      <listener observer="#edit-contact-button" event="click" function="contacts.app.ui.showEdit" />
      <listener observer="#add-contact-button" event="click" function="contacts.app.ui.showAdd" />
      <listener observer="#add-new-phone" event="click" function="contacts.app.ui.addNewPhone" />
      <listener observer="#add-new-email" event="click" function="contacts.app.ui.addNewEmail" />
      <listener observer=".back-button" event="click" function="contacts.app.ui.goBack" />
    </script>
  </head>
  <body class="app-contacts">

    <!-- Contacts List Section -->
    <section id='view-contacts-list' class="view vw-noscroll view-contacts-list">
      <div class="vw-inner">
        <header class="vw-header">
          <ul class="pull-right stack vw-actions">
            <li id='add-contact-button'><a href="#" title="Add contact"><i class="i-add" data-l10n-id="add">Add</i></a></li>
          </ul>
          <h1 data-l10n-id="contacts">Contacts</h1>
        </header>
        <article class="vw-body">
          <div class="vw-jumper">
            <p class="vw-jmp-current hide"><abbr title="Contacts by "></abbr></p>
            <ol class="vw-jmp-inner">
              <li><a href="#"><i class="i-search"></i></a></li>
              <li><a href="#"><i class="i-fav-dark"></i></a></li>
              <li data-template><a href="#"><abbr title="Jump to #letter#">#letter#</abbr></a></li>
            </ol>
          </div>
          <div id="groups-container" class="vw-bdy-inner">
            <ol class="block-list" id="groups-list">
              <li data-template>
                <h2 id="group-#group#" class="blck-title hide">
                  <abbr title="Contacts listed #group#">#letter#</abbr>
                </h2>
                <ol id="contacts-list-#group#" data-group="#group#">
                  <li data-template class="blck-item" data-uuid="#id#">
                    <a href="#" class="item">
                      <figure class="itm-media pull-right blck-media">
                         <img alt="" style="background-image: url(#photo#);">
                      </figure>
                      <p class="itm-body">
                        <strong class="blck-name">#givenName# <b>#familyName#</b></strong>
                      </p>
                    </a>
                  </li>
                </ol>
              </li>
            </ol>
          </div>
        </article>
      </div> <!-- vw-inner -->
    </section>

    <!-- Contact Details Section -->
    <section id='view-contact-details' class="view view-contact-profile vw-right">
      <div class="vw-inner">
        <header id='details-view-header' class="vw-header">
          <ul class="pull-right stack vw-actions">
            <li id='edit-contact-button'><a href="#" title="Edit contact"><i class="i-edit" data-l10n-id="edit">Edit</i></a></li>
          </ul>
          <p class="vw-back pull-left"><a class='back-button' title="Back" href="#"><i class="i-back">Back</i></a></p>
          <h1 id='contact-name-title'></h1>
        </header>
        <article class="vw-body">
          <div class="vw-bdy-inner">
            <div class="appcnts-profile-head">
              <!-- Default img so far, as UX have to define what to do when no image -->
              <figure><img id='cover-img' alt="" style=""></figure>
            </div>
            <section class="appcnts-profile-section">
              <!--
              We need some UX clarifications before using this field
              <h1 id='tag_field' data-template>#tag_field#</h1>
              -->

              <!-- Phone Template -->
              <li id='phone-details-template' data-template>
                <h2>#tel_type#</h2>
                <div class="item">
                  <div class="itm-media pull-right">
                    <button class="action"><i class="i-message">Message</i></button>
                  </div>
                  <div class="itm-body-exp">
                    <button class="action">
                      <i class="i-call">Call</i>
                      <b>#number#</b>
                      <em>#notes#</em>
                    </button>
                  </div>
                </div>
              </li>
              <!-- Email Template -->
              <li id='email-details-template' data-template>
                <h2>#email_tag#</h2>
                <div class="item">
                  <div class="itm-body-exp">
                    <button class="action">
                      <i class="i-email">E-mail</i>
                      <b>#email#</b>
                    </button>
                  </div>
                </div>
              </li>

              <ul id='details-list'>
                <!-- Iterating mails and phones here -->
              </ul>
            </section>
          </div>
        </article>
      </div>
    </section>

    <!-- Edit Section -->
    <section id='view-contact-form' class="view view-edit-contact vw-right">
      <div class="vw-inner">
        <header class="vw-header">
          <ul id='contact-form-actions' class="pull-right stack vw-actions">
          </ul>
          <p class="vw-back pull-left"><a class='back-button' href="#" title="Back"><i class="i-back">Back</i></a></p>
          <h1 id='contact-form-title'></h1>
        </header>

        <!-- PHONE TEMPLATE -->
        <dl id='add-phone' data-template class="setbox">
          <dt class="sbox-title"><a href="#">#type# <i class="i-arrow i-arw-bottom sbox-icon">Expand</i></a></dt>
          <dd class="sbox-body">
            <p class="sbox-item">
              <label class="hide" for="tel_#i#">Phone number:</label>
              <input placeholder="Phone" data-field="number" data-arrayindex="#i#" name="tel" class="textfield" type="number" value="#number#" id="tel_#i#">
            </p>
            <p class="sbox-item">
              <label class="hide" for="notes_#i#">Name:</label>
              <input placeholder="Notes" data-field="notes" data-arrayindex="#i#" name="tel" class="textfield" type="text" value="#notes#" id="notes_#i#">
            </p>
          </dd>
        </dl>

        <!-- EMAIL TEMPLATE -->
        <dl id='add-email' data-template class="setbox">
          <dt class="sbox-title"><a href="#">#type# <i class="i-arrow i-arw-bottom sbox-icon">Expand</i></a></dt>
          <dd class="sbox-body">
            <p class="sbox-item">
              <label class="hide" for="email_#i#">e-mail:</label>
              <input placeholder="Email" data-arrayindex="#i#" name="email" class="textfield" type="mail" value="#email#" id="email_#i#">
            </p>
          </dd>
        </dl>

        <article class="vw-body">
          <div class="vw-bdy-inner">
            <form action="#" class="fill-flow">
              <input name="id" id="contact-form-id" type="hidden" value=""\>
              <fieldset class="item">
                <legend class="hide">Main information</legend>
                <a href="#" class="itm-media ff-media">
                  <img alt="" style="background-image: url(#photo#);">
                </a>
                <div class="itm-body-exp">
                  <p class="ff-row">
                    <label class="hide" for="givenName">Name:</label>
                    <input placeholder="Name" name="givenName" class="textfield" type="text" value="#givenName#" id="givenName">
                  </p>
                  <p class="ff-row">
                    <label class="hide" for="user_lastname">Last name:</label>
                    <input placeholder="Last name" name="familyName" class="textfield" type="text" value="#familyName#" id="familyName">
                  </p>
                </div>
              </fieldset>

              <!-- <fieldset data-template class="ff-row">
                <legend>Work information</legend>
                <dl class="setbox">
                  <dt class="sbox-title"><a href="#">Company <i class="i-arrow i-arw-bottom sbox-icon">Expand</i></a></dt>
                  <dd class="sbox-body">
                    <p class="sbox-item">
                      <label class="hide" for="user_company">Company name:</label>
                      <input class="textfield" type="text" value="#org#" id="org">
                    </p>
                  </dd>
                </dl>
                The perfect approach to this component is to use the fieldset as setbox container
                and the sbox-title using a legend, but this bug prevent us to use in that way
                https://bugzilla.mozilla.org/show_bug.cgi?id=261037
              </fieldset> -->

              <fieldset class="ff-row">
                <legend>Phone numbers</legend>
                  <div id='contacts-form-phones'>
                    <!-- ITERATING OVER PHONE TEMPLATE HERE -->
                  </div>
                <button onclick='return false;' class="ff-row-action">
                  <i class="i-delete">Delete this field</i>
                </button>
              </fieldset>

              <button onclick='return false;' id='add-new-phone' class="ff-row action act-add">
                <i class="i-add"></i>
                <b>Add phone number</b>
              </button>

              <fieldset id='contacts-form-email'  class="ff-row">
                <legend>E-mail address</legend>
                  <div id='contacts-form-phones'>
                    <!-- ITERATING OVER EMAIL TEMPLATE HERE -->
                  </div>
                <button onclick='return false;' class="ff-row-action">
                  <i class="i-delete">Delete this field</i>
                </button>
              </fieldset>

              <button onclick='return false;' id='add-new-email' class="ff-row action act-add">
                <i class="i-add"></i>
                <b>Add email address</b>
              </button>

              <fieldset class="ff-row">
                <legend>Address</legend>
                <dl class="setbox">
                  <dt class="sbox-title"><a href="#">Work <i class="i-arrow i-arw-bottom sbox-icon">Expand</i></a></dt>
                  <dd class="sbox-body">
                    <p class="sbox-item">
                      <label class="hide" for="user_email">Street:</label>
                      <input name="address" class="textfield" type="text" value="" id="user_email">
                    </p>
                  </dd>
                </dl>
                <button class="ff-row-action">
                  <i class="i-delete">Delete this field</i>
                </button>
              </fieldset>
            </form>
          </div>
        </article>
      </div>
    </section>
  <script type="text/javascript" src="js/utilities/responsive.js"></script>
  <script type="text/javascript" src="js/utilities/xmlevents.js"></script>
  <script type="text/javascript" src="js/utilities/templates.js"></script>
  <script type="text/javascript" src="js/utilities/lazyload.js"></script>
  <script type="text/javascript" src="js/contactslist.js"></script>
  <script type="text/javascript" src="js/contacts.js"></script>
  <script type="text/javascript" src="js/alphascroll.js"></script>
  </body>
</html>
