{
  "metadata": {
    "name": "Gaia taskgraph",
    "description": "Gaia taskgraph generator"
  },
  "tags": {},
  "params": {
    "image": "registry.taskcluster.net/lightsofapollo/gaia-taskenv:0.2.0"
  },
  "tasks": {
    "play with emulator build test-r3-xlarge": {
      "task": {
        "metadata": {
          "name": "play with emulator build"
        },
        "workerType": "test-r3-xlarge",
        "timeout": 1200,
        "payload": {
          "maxRunTime": 14400,
          "env": {
            "REVISION": "9506880e4879"
          },
          "image": "registry.taskcluster.net/mozilla/b2g-build:0.0.7",
          "command": [
            "./bin/build"
          ],
          "artifacts": {
            "b2g-crashreporter-symbols.zip": "/home/worker/artifacts/b2g-crashreporter-symbols.zip",
            "b2g-tests.zip": "/home/worker/artifacts/b2g-tests.zip",
            "emulator.tar.gz": "/home/worker/artifacts/emulator.tar.gz",
            "gaia-tests.zip": "/home/worker/artifacts/gaia-tests.zip",
            "sources.xml": "sources.xml"
          }
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "B-R3"
        }
      }
    },
    "play with emulator build c3-xlarge": {
      "task": {
        "metadata": {
          "name": "play with emulator build"
        },
        "workerType": "test-c3-xlarge",
        "timeout": 1200,
        "payload": {
          "maxRunTime": 14400,
          "env": {
            "REVISION": "9506880e4879"
          },
          "image": "registry.taskcluster.net/mozilla/b2g-build:0.0.7",
          "command": [
            "./bin/build"
          ],
          "artifacts": {
            "b2g-crashreporter-symbols.zip": "/home/worker/artifacts/b2g-crashreporter-symbols.zip",
            "b2g-tests.zip": "/home/worker/artifacts/b2g-tests.zip",
            "emulator.tar.gz": "/home/worker/artifacts/emulator.tar.gz",
            "gaia-tests.zip": "/home/worker/artifacts/gaia-tests.zip",
            "sources.xml": "sources.xml"
          }
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "B-C3"
        }
      }
    },
    "play with emulator build m3-xlarge": {
      "task": {
        "metadata": {
          "name": "play with emulator build"
        },
        "workerType": "test-m3-xlarge",
        "timeout": 1200,
        "payload": {
          "maxRunTime": 14400,
          "env": {
            "REVISION": "9506880e4879"
          },
          "image": "registry.taskcluster.net/mozilla/b2g-build:0.0.7",
          "command": [
            "./bin/build"
          ],
          "artifacts": {
            "b2g-crashreporter-symbols.zip": "/home/worker/artifacts/b2g-crashreporter-symbols.zip",
            "b2g-tests.zip": "/home/worker/artifacts/b2g-tests.zip",
            "emulator.tar.gz": "/home/worker/artifacts/emulator.tar.gz",
            "gaia-tests.zip": "/home/worker/artifacts/gaia-tests.zip",
            "sources.xml": "sources.xml"
          }
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "B-M3"
        }
      }
    },
    "play with emulator build c3-xlarge shared": {
      "task": {
        "metadata": {
          "name": "play with emulator build"
        },
        "timeout": 1200,
        "payload": {
          "maxRunTime": 14400,
          "env": {
            "REVISION": "9506880e4879"
          },
          "image": "registry.taskcluster.net/mozilla/b2g-build:0.0.7",
          "command": [
            "./bin/build"
          ],
          "artifacts": {
            "b2g-crashreporter-symbols.zip": "/home/worker/artifacts/b2g-crashreporter-symbols.zip",
            "b2g-tests.zip": "/home/worker/artifacts/b2g-tests.zip",
            "emulator.tar.gz": "/home/worker/artifacts/emulator.tar.gz",
            "gaia-tests.zip": "/home/worker/artifacts/gaia-tests.zip",
            "sources.xml": "sources.xml"
          }
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "B-C3-SHARE"
        }
      }
    },
    "marionette integration tests": {
      "task": {
        "metadata": {
          "name": "Gaia Marionette JS integration testing"
        },
        "payload": {
          "image": "{{image}}",
          "command": [
            "./bin/ci run marionette_js"
          ]
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "GI"
        }
      }
    },
    "gaia ui tests": {
      "task": {
        "metadata": {
          "name": "Gaia UI tests"
        },
        "payload": {
          "image": "{{image}}",
          "command": [
            "./bin/ci run gaia_ui_tests"
          ]
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "GU"
        }
      }
    },
    "gaia unit tests in firefox": {
      "task": {
        "metadata": {
          "name": "gaia unit tests in firefox"
        },
        "payload": {
          "image": "{{image}}",
          "command": [
            "./bin/ci run unit-tests-in-firefox"
          ]
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "G"
        }
      }
    },
    "build tests": {
      "task": {
        "metadata": {
          "name": "Gaia build system tests"
        },
        "payload": {
          "image": "{{image}}",
          "command": [
            "./bin/ci run build_tests"
          ]
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "GB"
        }
      }
    },
    "lint": {
      "task": {
        "metadata": {
          "name": "Gaia code linters"
        },
        "payload": {
          "image": "{{image}}",
          "command": [
            "./bin/ci run linters"
          ]
        },
        "tags": {
          "treeherderProject": "gaia",
          "treeherderSymbol": "HINT"
        }
      }
    }
  }
}
